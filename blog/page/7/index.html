<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Squid's Blog</title>
  <meta name="author" content="Carin Meier">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://gigasquid.github.io/blog/page/7/">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Squid's Blog" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://gigasquid.github.io/blog/page/7/">
  <meta property="og:title" content="Squid's Blog">
  

  <script src="/javascripts/libs/jquery/jquery-2.1.3.min.js"></script>

<link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


  
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  

</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      
      <div id="banner-image">
        <div class="layer">
          <div id="banner-text">
            <h1 class="page-title">Squid's Blog</h1>
            <p class="page-desc">
              Random and Sometimes Useful Thoughts About Technology.<br>
            </p>
            <br>
            <br>
            <div class="page-links center">
              <ul class="index-nav">
                  <li ><a href="/blog/archives">Archives</a></li>
<li ><a href="/about">About</a></li>
<li ><a href="/books">Books</a></li>
<li ><a href="/speaking">Speaking</a></li>

              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div id="main" role="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content">
    <div class="blog-index" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Squid's Blog" />
    
    <meta itemprop="url" content="http://gigasquid.github.io" />
      
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-07-22T19:44:00-04:00"  data-updated="true" itemprop="datePublished dateCreated">Mon 22 Jul 2013,  7:44 PM</time>
        
           | <a href="/blog/2013/07/22/5-whys-of-community/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2013/07/22/5-whys-of-community/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/07/22/5-whys-of-community/" itemprop="url">My 5 Whys of Community</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><h2>Why do you devote time and participate in the community?</h2>

<p>1) <em>Why do you devote time and participate in the community?</em></p>

<p>I find joy in coding and making things. I want to be around other
people who feel the same way.</p>

<p>2) <em>Why?</em></p>

<p>Because I want to be inspired by others and learn from others and hope that they are inspired and learn from me.</p>

<p>3) <em>Why?</em></p>

<p>Because ideas and learning doesn&rsquo;t happen in a vacuum. There is something magical about the serendipity of human interaction and that needs a community to take place.</p>

<p>4) <em>Why?</em></p>

<p>It is all fundamentally about people. People dream. We talk about our dreams and get together and make them reality. That is the magic of our civilization.</p>

<p>5) <em>Why?</em></p>

<p>I don&rsquo;t want to dream alone.</p>

<p>What are your reasons?
In response to <a href="http://words.cdmwebs.com/let-s-start-with-why">Let&rsquo;s Start with Why</a></p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-07-15T15:42:00-04:00"  data-updated="true" itemprop="datePublished dateCreated">Mon 15 Jul 2013,  3:42 PM</time>
        
           | <a href="/blog/2013/07/15/demoing-with-drones-tips-and-warnings/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2013/07/15/demoing-with-drones-tips-and-warnings/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/07/15/demoing-with-drones-tips-and-warnings/" itemprop="url">Demoing With Drones: Tips and Warnings</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Lately, I have had the pleasure of speaking and sharing my experience
of programming <a href="http://ardrone2.parrot.com/">AR Drones</a> with Clojure.  However, doing live hardware
demos has not always been a smooth ride.  In fact, it can be fraught
with peril.  I thought that I would share some of the tips and tricks
that have helped me, as well as help make you
aware of some potential pitfalls.</p>

<h2>Traveling with the AR Drone</h2>

<p><img class="left" src="http://farm6.staticflickr.com/5332/9301848814_1633857d6d.jpg"></p>

<p>Do you need to take your drone with you on the plane to the demo?
The box that the drone comes in is a very nice carrying case, however it
is too big to take on as a carry-on.  I found that taking the hull
off, and packing it into a plastic box worked well.  It was small
enough to pack under the seat of even the smaller planes.  I took the
battery out and packed it in my checked luggage.</p>

<h2>Before the Demo</h2>

<ul>
<li><p><strong>Put colored masking tape on the floor</strong> : If the floor is
  featureless, the drone will have a hard time staying in one place
  while it is hovering.  Put down some strips of colored masking
  tape in the area that you want to demo the drone.</p></li>
<li><p><strong>Charge the spare battery</strong>:  Make sure that you have at least 2
  batteries charged and ready to go.  If there is an extra plug
  nearby, just plug in the battery and charger until you are ready
  to present.</p></li>
<li><p><strong>Beware the network interference</strong>:  In some larger venues, like
  hotels, the network traffic will make things break.  In
  particular, receiving navigation data back from the drone. There
  are possible strategies for mitigating this &ndash; the only one I have
  tried so far is to bump up the timeout on the UDP connection.
  Other things that you may want to try would be to auto-reconnect
  after timeout.  Also limiting the amount navdata you need might
  also work.</p></li>
<li><p><strong>Backup videos</strong> &ndash; Having backup videos of your demo actually
  working is essential.  It is safety net that will allow you to
  sleep the night before.  Like they say, &ldquo;Hope for the best, but
  plan for the worst&rdquo;.</p></li>
<li><p><strong>Rehearse</strong> &ndash; If possible, go through your drone demos in the space
  sometime before the talk.  You will get a feeling for issues that
  might occur &ndash; like network troubles.</p></li>
</ul>


<h2>Demo Time!</h2>

<ul>
<li><p><strong>Front row drone catchers</strong> &ndash; Enlist the aid of your audience.
  Show the people in the front row how to catch a drone safely and
  hold it at a 90 degree angle so the engine cuts out.  That way, if
  the drone starts going off in unplanned ways, you will have help.</p></li>
<li><p><strong>Cross your fingers and have fun</strong> &ndash; Good luck.  Hardware demos are
  a lot of fun.  Hopefully, everything we work as planned, but if
  not &ndash; at least it was interesting.</p></li>
</ul>

</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-06-04T14:57:52-04:00"  data-updated="true" itemprop="datePublished dateCreated">Tue  4 Jun 2013,  2:57 PM</time>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/06/04/babar-a-little-language-with-speech-acts-for-machines/" itemprop="url">Babar - a Little Language With Speech Acts for Machines</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p><img src="http://farm8.staticflickr.com/7352/9925781735_77dfa3157b_o.jpg"></p>

<h2>Preface: A Gentle Obsession</h2>

<p>About a year ago, I picked up John McCarthy&rsquo;s paper on <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/elephant/elephant.html">Elephant 2000</a>. I have to admit that I only understood about 10% of it. But I was so intrigued by the ideas that it sent me on a quest. I re-read it numerous times, slept with it under my pillow, and finally decided that I needed to read his other papers to get an insight into his thoughts. I began a considered effort with <a href="http://gigasquidsoftware.com/blog/2012/09/18/7-john-mccarthy-papers-in-7-days-prologue/">Seven McCarthy Papers in Seven Weeks</a>. It ended up taking about three months, rather than seven 7 weeks. Again I came back to Elephant 2000. I began to understand more as other ideas and concepts sunk in, like <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/ascribing/ascribing.html">ascribing beliefs and goals to machines</a>. But to really explore the ideas, I really wanted to try to implement parts of Elephant in my own programming language. The problem was, having no formal training in computer science, (my background is Physics), I had never created a programming language before. The stars aligned and I found the <a href="https://github.com/Engelberg/instaparse">Instaparse</a> Clojure library. The result is <a href="https://github.com/gigasquid/babar">Babar</a>, a language designed to explore communication with machines via <a href="http://en.wikipedia.org/wiki/Speech_act">Speech Acts</a>.</p>

<h2>What are the Speech Acts?</h2>

<p>When I say say &ldquo;Pass the salt.&rdquo;, the meaning behind the utterance is that I would like someone to reach out and move the salt shaker to me. I am requesting an action be performed. It doesn&rsquo;t really matter if the utterance is in English, French, or Spanish. The intention is the same. Furthermore, if you accept my request to pass the salt. It creates a commitment on your part to actually perform the action. There are two types of speech acts that Babar is concerned with. The first is called an <a href="http://en.wikipedia.org/wiki/Illocutionary_act">Illocutionary Act</a>. Some of the english verbs denoting these acts are &ldquo;assert&rdquo;, &ldquo;command&rdquo;, &ldquo;request&rdquo;, and &ldquo;query&rdquo;. The second is a <a href="http://en.wikipedia.org/wiki/Perlocutionary_act">Perlocutionary Act</a>. These are acts that are concerned with the effects of hearing them on future actions. Some of english verbs denoting these acts are &ldquo;convince&rdquo;, &ldquo;persuade&rdquo;, and &ldquo;warn&rdquo;.</p>

<h2>Hello Babar</h2>

<p>Babar is an experimental language that uses these Speech Acts to communicate. It also combines one of the other ideas of McCarthy, that is of beliefs and goals. The ultimate aim in the language is discover ways of thinking about computers and communicating with them based on the way that we communicate with each other. The state of a computer at any given point in time can be very complex and hard to understand. If we ascribe this state to be a &ldquo;belief&rdquo;, it becomes easier to understand and thus easier to program. The Babar REPL has internal commitments and internal beliefs. The goal of the Babar REPL is to keep all of its commitments. Speech acts are used to &ldquo;convince&rdquo; Babar of beliefs and to make &ldquo;requests&rdquo; that form commitments. The Babar REPL continually checks to see if it needs to fulfill a commitments. It fulfills them based on its beliefs. As an optional configuration, the REPL will speak aloud its beliefs as the become true &ndash; or as it &ldquo;holds&rdquo; the belief.</p>

<h2>Syntax and Basics</h2>

<p>The language uses basic Clojure datatypes and makes the parens optional in most cases to make the expressions look more like syntactically sugared speech acts.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'>
</span><span class='line'>    <span class="mi">1</span>     <span class="c1">;=&gt; 1</span>
</span><span class='line'>    <span class="mf">2.3</span>   <span class="c1">;=&gt; 2.3</span>
</span><span class='line'>    <span class="mf">-3.4</span>  <span class="c1">;=&gt; 3.4</span>
</span><span class='line'>    <span class="s">&quot;cat&quot;</span> <span class="c1">;=&gt; cat</span>
</span><span class='line'>    <span class="ss">:bird</span> <span class="c1">;=&gt; bird</span>
</span><span class='line'>    <span class="nv">true</span>  <span class="c1">;=&gt; true</span>
</span><span class='line'>    <span class="p">{</span><span class="ss">:cat</span> <span class="ss">:meow</span> <span class="ss">:dog</span> <span class="ss">:bark</span><span class="p">}</span> <span class="c1">;=&gt; {:cat :meow :dog :bark}</span>
</span><span class='line'>    <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="nv">true</span> <span class="ss">:bird</span><span class="p">]</span> <span class="c1">;=&gt; [1 2 true bird]</span>
</span><span class='line'>    <span class="nv">atom</span> <span class="mi">1</span> <span class="c1">;=&gt; #</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">(</span><span class="k">def </span><span class="nv">dog</span> <span class="mi">16</span><span class="p">)</span>
</span><span class='line'>    <span class="nv">dog</span> <span class="c1">;=&gt; 16</span>
</span><span class='line'>    <span class="k">def </span><span class="nv">cat</span> <span class="mi">18</span>
</span><span class='line'>    <span class="nv">cat</span> <span class="c1">;=&gt; 18</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vectors are a bit interesting in the respect that you don&rsquo;t need to input the square brackets. If you just put in space delimited items, it will automatically construct a vector for you.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="c1">;=&gt; [1 2 3 4]</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>You can create anonymous functions with the fn [x] syntax from clojure. And call them with surrounding parens. You can call regular functions by the () notation or the shorthand :.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="nb">+ </span><span class="nv">x</span> <span class="mi">1</span> <span class="c1">;=&gt; fn</span>
</span><span class='line'><span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="nb">+ </span><span class="nv">x</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">;=&gt; fn</span>
</span><span class='line'><span class="p">((</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="nb">+ </span><span class="nv">x</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;=&gt; 4</span>
</span><span class='line'><span class="p">((</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span><span class="p">]</span> <span class="nb">+ </span><span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span><span class="p">)</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">;=&gt; 6</span>
</span><span class='line'><span class="p">((</span><span class="k">fn </span><span class="p">[]</span> <span class="p">[</span><span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">]))</span> <span class="c1">;=&gt; [4 5 6]</span>
</span><span class='line'>
</span><span class='line'><span class="kd">defn </span><span class="nv">dog</span> <span class="p">[]</span> <span class="s">&quot;woof&quot;</span>
</span><span class='line'><span class="nv">dog</span><span class="err">:</span> <span class="c1">;=&gt; &quot;woof&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>To see the complete documentation &ndash; please visit the <a href="https://github.com/gigasquid/babar">Github repo</a>.</p>

<h2>Show Me Babar Speech Acts</h2>

<p>Now that we have the basics. Let&rsquo;s look at example of running a program with speech acts.
This one speaks its beliefs and has assertions, a request, and queries.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">speak-config</span> <span class="nv">true.</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">sunny</span> <span class="nv">false.</span>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">nice-day</span> <span class="s">&quot;It is a nice day.&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">= </span><span class="nv">sunny</span> <span class="nv">true.</span>
</span><span class='line'><span class="nv">request</span> <span class="nv">*open-window</span> <span class="nb">when </span><span class="o">#</span><span class="nv">nice-day</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">println </span><span class="s">&quot;Opened the window&quot;</span><span class="nv">.</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-is-done</span> <span class="nv">*open-window?</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">sunny</span> <span class="nv">true.</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-is-done</span> <span class="nv">*open-window?</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('bt2iYsVyCOM');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/bt2iYsVyCOM?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/bt2iYsVyCOM/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=bt2iYsVyCOM" id="bt2iYsVyCOM" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<p>Here is another one that shows using a request until a belief is held.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">speak-config</span> <span class="nv">true.</span>
</span><span class='line'>
</span><span class='line'><span class="nb">assert </span><span class="nv">counter</span> <span class="nv">atom</span> <span class="mi">1</span><span class="nv">.</span>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">done</span> <span class="s">&quot;I am done counting&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">&gt; </span><span class="err">@</span><span class="nv">counter</span> <span class="mi">3</span><span class="nv">.</span>
</span><span class='line'><span class="nv">request</span> <span class="nv">*count-up</span> <span class="nv">until</span> <span class="o">#</span><span class="nv">done</span> <span class="k">fn </span><span class="p">[]</span> <span class="nv">swap!</span> <span class="nv">counter</span> <span class="nv">inc.</span>
</span><span class='line'><span class="nv">sleep</span> <span class="mi">25</span><span class="nv">.</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-value</span> <span class="nv">*count-up?</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('aT8MK0w71LM');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/aT8MK0w71LM?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/aT8MK0w71LM/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=aT8MK0w71LM" id="aT8MK0w71LM" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<p>Here the REPL asks you a question if you give it an undeclared var</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">speak-config</span> <span class="nv">true.</span>
</span><span class='line'><span class="nv">ask-config</span> <span class="nv">true.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">request</span> <span class="nv">*task1</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">+ </span><span class="mi">10</span> <span class="nv">x.</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-is-done</span> <span class="nv">*task1?</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">x</span> <span class="mi">3</span><span class="nv">.</span>
</span><span class='line'><span class="nv">sleep</span> <span class="mi">10</span><span class="nv">.</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-is-done</span> <span class="nv">*task1?</span>
</span><span class='line'><span class="nv">query</span> <span class="nv">request-value</span> <span class="nv">*task1?</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('nmi_fafmjsg');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/nmi_fafmjsg?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/nmi_fafmjsg/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=nmi_fafmjsg" id="nmi_fafmjsg" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Autonomous AR Drone Flight with Babar REPL</h2>

<p>Since the language is aimed at communincating with machines. It is only natural that I use it to talk to the AR Drone.
Here is a program that has the drone take off, get to a cruising altitude, and land &ndash; all using speech acts (and the <a href="https://github.com/gigasquid/clj-drone">clj-drone library</a>).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">speak-config</span> <span class="nv">true.</span>
</span><span class='line'>
</span><span class='line'><span class="nb">import </span><span class="s">&quot;clj-drone.core&quot;</span><span class="nv">.</span>
</span><span class='line'><span class="nb">import </span><span class="s">&quot;clj-drone.navdata&quot;</span><span class="nv">.</span>
</span><span class='line'>
</span><span class='line'><span class="nb">assert </span><span class="nv">get-navdata</span> <span class="p">[</span><span class="nv">key</span><span class="p">]</span> <span class="nb">get </span><span class="err">@</span><span class="nv">nav-data</span> <span class="nv">key.</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">navdata-equal</span> <span class="p">[</span><span class="nb">key </span><span class="nv">val</span><span class="p">]</span> <span class="nb">= </span><span class="p">(</span><span class="nf">get-navdata</span> <span class="nv">key</span><span class="p">)</span> <span class="nv">val.</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">navdata-gt</span> <span class="p">[</span><span class="nb">key </span><span class="nv">val</span><span class="p">]</span> <span class="nb">&gt; </span><span class="p">(</span><span class="nf">get-navdata</span> <span class="nv">key</span><span class="p">)</span> <span class="nv">val.</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">init-drone</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">drone-initialize</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'><span class="nb">assert </span><span class="nv">init-nav</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">drone-init-navdata</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">landed</span> <span class="s">&quot;I am on the ground&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">navdata-equal</span> <span class="ss">:control-state</span> <span class="ss">:landed</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">flying</span> <span class="s">&quot;I am flying&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">or </span><span class="p">(</span><span class="nf">navdata-equal</span> <span class="ss">:control-state</span> <span class="ss">:flying</span><span class="p">)</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nf">navdata-equal</span> <span class="ss">:control-state</span> <span class="ss">:hovering</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">high-enough</span> <span class="s">&quot;I am high enough&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">navdata-gt</span> <span class="ss">:altitude</span> <span class="mf">1.5</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">request</span> <span class="nv">*take-off</span> <span class="nb">when </span><span class="o">#</span><span class="nv">landed</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">drone</span> <span class="ss">:take-off</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'><span class="nv">request</span> <span class="nv">*cruising-alt</span> <span class="nb">when </span><span class="o">#</span><span class="nv">flying</span> <span class="nv">until</span> <span class="o">#</span><span class="nv">high-enough</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">drone</span> <span class="ss">:up</span> <span class="mf">0.1</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'><span class="nv">request</span> <span class="nv">*land</span> <span class="nb">when </span><span class="o">#</span><span class="nv">high-enough</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">drone</span> <span class="ss">:land</span><span class="p">)</span><span class="nv">.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">convince</span> <span class="o">#</span><span class="nv">done</span> <span class="s">&quot;Whee! I am done.&quot;</span> <span class="k">fn </span><span class="p">[]</span> <span class="nb">and </span><span class="p">(</span><span class="nf">navdata-equal</span> <span class="ss">:control-state</span> <span class="ss">:landed</span><span class="p">)</span>
</span><span class='line'>                                            <span class="nv">query</span> <span class="nv">request-is-done</span> <span class="nv">*land.</span>
</span><span class='line'><span class="nv">request</span> <span class="nv">*end-navstream</span> <span class="nb">when </span><span class="o">#</span><span class="nv">done</span> <span class="k">fn </span><span class="p">[]</span> <span class="p">(</span><span class="nf">end-navstream</span><span class="p">)</span><span class="nv">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('CIzR8jD2d3c');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/CIzR8jD2d3c?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/CIzR8jD2d3c/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=CIzR8jD2d3c" id="CIzR8jD2d3c" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Conclusion and Thanks</h2>

<p>I can honestly say, that this has been one of the most enjoyable programming quests. I encourage you all to look at McCarthy&rsquo;s papers, Clojure, Instaparse, and of course, hacking robots. A special thanks to all the Cincy folks at <a href="http://www.neo.com/">Neo</a> who have supported me through my gentle obsessions and have let me have the freedom to follow my curiosity.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-01T22:08:18-04:00"  data-updated="true" itemprop="datePublished dateCreated">Wed  1 May 2013, 10:08 PM</time>
        
           | <a href="/blog/2013/05/01/growing-a-language-with-clojure-and-instaparse/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2013/05/01/growing-a-language-with-clojure-and-instaparse/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/05/01/growing-a-language-with-clojure-and-instaparse/" itemprop="url">Growing a Language With Clojure and Instaparse</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Creating your own programming language with Clojure and <a href="https://github.com/Engelberg/instaparse">Instaparse</a> is like building rainbows with s-expressions.  The Instaparse library is an elegant way of building executable parsers trees with pattern matching and <a href="http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form"><em>standard EBNF notation</em></a> for context-free grammars. Since this is my first foray into parser trees and grammars, I thought I would share my learnings in this post.</p>

<h2>Starting with a Single Word</h2>

<p>Let&rsquo;s start with the simplest example:  a number.  When we start up our REPL in our brand new language, we want to be able to enter an integer, and have evaluate as an integer.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">MyCoolLang&gt;</span> <span class="mi">1</span>
</span><span class='line'><span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>Using the instaparse library, we define a number to be a regex matching an integer.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">coollang.parser</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">instaparse.core</span> <span class="ss">:as</span> <span class="nv">insta</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">parser</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">insta/parser</span>
</span><span class='line'>   <span class="s">&quot;number = #&#39;[0-9]+&#39;&quot;</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">parser</span> <span class="s">&quot;1&quot;</span><span class="p">)</span> <span class="c1">;=&gt;; [:number &quot;1&quot;]</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>We now have a parser tree node that is of a type number. Pretty nice so far, but more rainbows are coming. You can make elegant transformations on the parser tree, and does them in a bottom up fashion, so you can use it for evaluation as well. In our simple number example, we are applying the read-string function on the :number node to turn it into a int.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">transform-options</span>
</span><span class='line'>  <span class="p">{</span><span class="ss">:number</span> <span class="nv">read-string</span><span class="p">})</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nb">parse </span><span class="p">[</span><span class="nv">input</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">(</span><span class="nf">parser</span> <span class="nv">input</span><span class="p">)</span> <span class="p">(</span><span class="nf">insta/transform</span> <span class="nv">transform-options</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">parse </span><span class="s">&quot;1&quot;</span><span class="p">)</span> <span class="c1">;=&gt; 1</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<h2>Adding on spaces and vectors</h2>

<p>Let&rsquo;s build on a bit more. When someone enters in a sequence of numbers separated by spaces, it will be defined as a vector.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">MyCoolLang&gt;</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>We need to add the notion of spaces, spaces with numbers, and vectors into our grammar, as well as the rules
for evaluating these new nodes.  Notice that we use the &lt;> notation to hide the definition in the parser tree.  The + means one or more times.  The * means 0 or more times, and the | means or.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">parser</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">insta/parser</span>
</span><span class='line'>   <span class="s">&quot;expr = number | vector</span>
</span><span class='line'><span class="s">    vector = snumber+ number</span>
</span><span class='line'><span class="s">    &lt;snumber&gt; = (number space)*</span>
</span><span class='line'><span class="s">    &lt;space&gt; = &lt;#&#39;[ ]+&#39;&gt;</span>
</span><span class='line'><span class="s">    number = #&#39;[0-9]+&#39;&quot;</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">parser</span> <span class="s">&quot;1 2 3 4&quot;</span><span class="p">)</span> <span class="c1">;=&gt; [:expr [:vector [:number &quot;1&quot;] [:number &quot;2&quot;] [:number &quot;3&quot;] [:number &quot;4&quot;]]]</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">transform-options</span>
</span><span class='line'>  <span class="p">{</span><span class="ss">:number</span> <span class="nv">read-string</span>
</span><span class='line'>   <span class="ss">:vector</span> <span class="p">(</span><span class="nb">comp </span><span class="nv">vec</span> <span class="nv">list</span><span class="p">)</span>
</span><span class='line'>   <span class="ss">:expr</span> <span class="nv">identity</span><span class="p">})</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nb">parse </span><span class="p">[</span><span class="nv">input</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">(</span><span class="nf">parser</span> <span class="nv">input</span><span class="p">)</span> <span class="p">(</span><span class="nf">insta/transform</span> <span class="nv">transform-options</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">parse </span><span class="s">&quot;1 2 3 4&quot;</span><span class="p">)</span> <span class="c1">;=&gt; [1 2 3 4]</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<h2>Adding in operations</h2>

<p>Pretty cool. We have numbers and vectors. Let&rsquo;s see if we can do something fun like do some simple math on these vectors or numbers. We want it so when we type in + and some numbers, it adds them up.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">MyCoolLang&gt;</span> <span class="nb">+ </span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
</span><span class='line'><span class="mi">10</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>Of course we need to further expand our grammar and rules.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">parser</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">insta/parser</span>
</span><span class='line'>   <span class="s">&quot;expr = number | vector | operation</span>
</span><span class='line'><span class="s">    operation = operator space+ vector</span>
</span><span class='line'><span class="s">    operator = &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39;</span>
</span><span class='line'><span class="s">    vector = snumber+ number</span>
</span><span class='line'><span class="s">    &lt;snumber&gt; = (number space)*</span>
</span><span class='line'><span class="s">    &lt;space&gt; = &lt;#&#39;[ ]+&#39;&gt;</span>
</span><span class='line'><span class="s">    number = #&#39;[0-9]+&#39;&quot;</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">parser</span> <span class="s">&quot;+ 1 2 3 4&quot;</span><span class="p">)</span> <span class="c1">;=&gt; [:expr</span>
</span><span class='line'> <span class="c1">;                        [:operation</span>
</span><span class='line'> <span class="c1">;                         [:operator &quot;+&quot;]</span>
</span><span class='line'> <span class="c1">;                           [:vector [:number &quot;1&quot;] [:number &quot;2&quot;] [:number &quot;3&quot;] [:number &quot;4&quot;]]]</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">choose-operator</span> <span class="p">[</span><span class="nv">op</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">case</span> <span class="nv">op</span>
</span><span class='line'>    <span class="s">&quot;+&quot;</span> <span class="nv">+</span>
</span><span class='line'>    <span class="s">&quot;-&quot;</span> <span class="nv">-</span>
</span><span class='line'>    <span class="s">&quot;*&quot;</span> <span class="nv">*</span>
</span><span class='line'>    <span class="s">&quot;/&quot;</span> <span class="nv">/</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="k">def </span><span class="nv">transform-options</span>
</span><span class='line'>  <span class="p">{</span><span class="ss">:number</span> <span class="nv">read-string</span>
</span><span class='line'>   <span class="ss">:vector</span> <span class="p">(</span><span class="nb">comp </span><span class="nv">vec</span> <span class="nv">list</span><span class="p">)</span>
</span><span class='line'>   <span class="ss">:operator</span> <span class="nv">choose-operator</span>
</span><span class='line'>   <span class="ss">:operation</span> <span class="nv">apply</span>
</span><span class='line'>   <span class="ss">:expr</span> <span class="nv">identity</span><span class="p">})</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nb">parse </span><span class="p">[</span><span class="nv">input</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">(</span><span class="nf">parser</span> <span class="nv">input</span><span class="p">)</span> <span class="p">(</span><span class="nf">insta/transform</span> <span class="nv">transform-options</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">parse </span><span class="s">&quot;+ 1 2 3 4&quot;</span><span class="p">)</span> <span class="c1">;=&gt; 10</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<h2>Add a REPL</h2>

<p>All we need now is a cool REPL to start working in:
We just need a main function to call our REPL, (Read &ndash; Evaluate &ndash; Print &ndash; Loop), and we are all set.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">coollang.repl</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">coollang.parser</span> <span class="ss">:as</span> <span class="nv">parser</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">repl</span> <span class="p">[]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">do</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">print </span><span class="s">&quot;MyCoolLang&gt; &quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">flush</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">input</span> <span class="p">(</span><span class="nf">read-line</span><span class="p">)]</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">println </span><span class="p">(</span><span class="nf">parser/parse</span> <span class="nv">input</span><span class="p">))</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">recur</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">-main</span> <span class="p">[</span><span class="o">&amp;</span> <span class="nv">args</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">println </span><span class="s">&quot;Hello MyCoolLang!&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">println </span><span class="s">&quot;===============&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">flush</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">repl</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<h2>Closing and Inspiration</h2>

<p>I have enjoyed playing around and learning about creating programming languages with Clojure and instaparse.
It truly is a beautiful library. If you need any more inspiration to start creating your own programming language, may I recommend:</p>

<ul>
<li><p><a href="http://www.youtube.com/watch?v=_ahvzDzKdB0">Growing a Program Language by Guy Steele </a>&ndash; A classic and amazing talk about designing programming languages.</p></li>
<li><p><a href="https://github.com/bodil/BODOL">BODOL</a> &ndash; A language experiment using Clojure and Instaparse</p></li>
</ul>


<p>Now go forth and create!</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-03-13T22:32:31-04:00"  data-updated="true" itemprop="datePublished dateCreated">Wed 13 Mar 2013, 10:32 PM</time>
        
           | <a href="/blog/2013/03/13/why-open-a-coworking-space/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2013/03/13/why-open-a-coworking-space/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/03/13/why-open-a-coworking-space/" itemprop="url">Why Open a Coworking Space?</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>So I am in the midst of doing something a bit crazy and a bit wonderful at the same time. I am opening a coworking space in Loveland, OH called <a href="http://locolo.us/">Locolo</a>. It is a bit crazy because it has very little chance of being profitable, I have very little free time in my life to devote to such an undertaking, and I work full-time with awesome folks so I wouldn&rsquo;t even be there during the day. Despite these very pragmatic reasons for not doing it, somewhere along the way I said F*** IT, I am doing it anyway. This blog post is an attempt to explain why.</p>

<p><img src="http://lovelandcolo.files.wordpress.com/2013/03/cropped-gallery.jpg" alt="Locolo" /></p>

<h2>I want a coworking space to exist.</h2>

<p>Coworking has changed my life. About three years ago, I became independent and starting doing development work out of my house. I found myself feeling increasingly lonely and isolated, working alone at my kitchen table day after day. I heard of a coworking space close to downtown called <a href="http://www.cincycoworks.com/">Cincy CoWorks</a>, started by the visionaries <a href="https://twitter.com/hellogerard">Gerard Sychay</a> and <a href="https://twitter.com/agilous">Bill Barnett</a>. I joined and started going down there to work a few days a week. It was wonderful. Work became fun again. They day was peppered with serendipitous encounters and conversations the sparked my imagination and curiosity. I got involved in the Ruby community, usergroups, and eventually became part of the EdgeCase (and now Neo) company that makes me happy every day. In fact, the people that I met coworking are still an important part of my life today. So when I heard that Cincy Coworks suspended operations, I was a bit sad. I was sad that there was no longer an environment where the coworking magic could live. I had a small thought germinate in the back of my head then, that I would like to open a coworking space one day.</p>

<h2>Someone told me it could not be done.</h2>

<p>Sometimes there are clear catalysts in life. For me, it was someone telling me that a successful coworking space in Cincinnati could not be done. They may be right. I don&rsquo;t know. But I do know, that the moment I heard that, something changed. I have this little part of me that can&rsquo;t stand it when someone tells me I can&rsquo;t do something. In fact, it is most likely one of the reasons that went into software development in the first place. That little part of me went a grabbed that small thought about starting a coworking place and dragged it out to the front where I couldn&rsquo;t ignore it any more and said &ndash; DO IT.</p>

<h2>A Lean Experiment</h2>

<p>Serendipity happens. I had just finished reading Eric Ries&rsquo;s book, <a href="http://theleanstartup.com/book">The Lean Startup</a>. It is a great book and highly recommend it. The main idea is using scientific methods for businesses. It got me thinking about what a coworking MVP, (minimun viable product), would be. I started looking around at spaces in Loveland just for fun, and stumbled into to one that would be perfect. I discovered <a href="http://www.studiosonmain.com/">The Loveland Art Studios on Main</a>, a old school building turned into mostly art studios, but also housed a gym, spinning center, and training field for kids. The rent was very reasonable, had a 6 month lease, and already had wifi throughout the building. It was too perfect to pass up. I defined a hypothesis and experiment on the spot.</p>

<p><em>Hypothesis</em>: There are enough people in the North and East part of Cincinnati interested to support a self-sustaining coworking space.
<em>Experiment</em>: Open a small coworking space for 6 months
<em>Metrics</em>: Monthly income &ndash; Monthly expenses</p>

<p>If at the end of the 6 months, the hypothesis is proven incorrect, I will accept my outcome and close up shop. However, even if the experiment is not successful, I will be capturing metrics on this and other experiments to save as artifacts to share with others that come after me. Hopefully, it will make it better and easier for the next person to launch coworking spaces. If you are interested in monthly updates on my metrics and experiments, ping me, and I will happily add you to my monthly distribution list.</p>

<h2>Doing something you believe in</h2>

<p>I don&rsquo;t think this part needs much explaining. Doing something you believe in is worthwhile just in itself. Enough said.</p>

<h2>Getting involved in the community is magic</h2>

<p>Starting up a coworking space is all about building community. The very act of building something together creates magic. I am so thankful for all the people that have pitched in a helped me with their advice, encouragement, and assistance so far. Shout outs to <a href="https://twitter.com/agilous">Bill Barnett</a>, <a href="https://twitter.com/hellogerard">Gerard Sychay</a>, <a href="https://twitter.com/p9k">Paul Heinrich</a>, <a href="https://twitter.com/jacki890">Jacki Keys</a>, <a href="https://twitter.com/ElizabethN">Elizabeth Naramore</a>, <a href="https://twitter.com/cdmwebs">Chris Moore</a>, <a href="https://twitter.com/rabiedenharn">Rob Biederhorn</a>, <a href="https://twitter.com/masondesu">Mason Stewart</a>, and others. You all rock. really.</p>

<h2>An Excuse for a Biscuit Tasting</h2>

<p>One of the fun perks of running a coworks is you get to have Open Houses and other excuses to eat biscuits. When I say &ldquo;biscuits&rdquo;, I mean biscuits in the British form, that translates into American as &ldquo;delicious cookies&rdquo;. So if you are in Cincinnati, sign up for the <a href="http://lovelandcolo.wordpress.com/">Open House of Locolo</a>. Where you can not only see the space and meet awesome people, but also rate various cookies on important factors such as dunkablility and crunchiness.</p>

<p>Thanks &amp; Toodles for now,</p>

<p>Carin</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-02-04T22:45:19-05:00"  data-updated="true" itemprop="datePublished dateCreated">Mon  4 Feb 2013, 10:45 PM</time>
        
           | <a href="/blog/2013/02/04/the-joy-of-flying-ar-drones-with-clojure/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2013/02/04/the-joy-of-flying-ar-drones-with-clojure/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/02/04/the-joy-of-flying-ar-drones-with-clojure/" itemprop="url">The Joy of Flying AR Drones With Clojure</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Clojure is fun.  Flying <a href="http://ardrone2.parrot.com/usa/">AR Parrot Drones</a> are fun.  Put them together and there is pure joy.</p>

<p><img src="http://farm8.staticflickr.com/7441/9925804126_e4707c8b72_o.jpg"></p>

<p>Ever since I found out that you could program and control your drone over UDP, I couldn&rsquo;t wait to try it out in Clojure.  I had dreams of controlling it with my Emacs REPL.  That dream came true and it has been a true joy to fly in a function language. This blog post shows some of the features that the <a href="https://github.com/gigasquid">clj-drone project</a> has so far.  There is still a bit of work to go to make it complete.  But, I wanted to share and hopefully encourage others to start playing with it too.</p>

<h2>The Simple Take-off and Landing</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">clj-drone.example.simple</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">clj-drone.core</span> <span class="ss">:refer</span> <span class="ss">:all</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">drone-initialize</span><span class="p">)</span>
</span><span class='line'><span class="c1">;Use ip and port for non-standard drone ip/port</span>
</span><span class='line'><span class="c1">;(initialize ip port)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:take-off</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">Thread/sleep</span> <span class="mi">10000</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:land</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<p>Here is a video of executing the entire program in nrepl/ emacs</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('IjKDZVUk1M8');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/IjKDZVUk1M8?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/IjKDZVUk1M8/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=IjKDZVUk1M8" id="IjKDZVUk1M8" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Controlling the Drone with Emacs/ Clojure REPL</h2>

<p>Running the program all at once to control the drone is fun. But, I prefer to have more control over it in flight. I find being able to execute commands with keystrokes in emacs, the best way to do it. Here is a short video demonstrating control via the REPL. (Note: I am just doing simple take off / up and landings because of the constraints of flying indoors in my kitchen. There are many more moves you can do if you have more space.)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">clj-drone.example.moves</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">clj-drone.core</span> <span class="ss">:refer</span> <span class="ss">:all</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">drone-initialize</span><span class="p">)</span>
</span><span class='line'><span class="c1">;Use ip and port for non-standard drone ip/port</span>
</span><span class='line'><span class="c1">;(initialize ip port)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone-do-for</span> <span class="mi">4</span> <span class="ss">:take-off</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone-do-for</span> <span class="mi">2</span> <span class="ss">:up</span> <span class="mf">0.3</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone-do-for</span> <span class="mf">3.75</span> <span class="ss">:fly</span> <span class="mf">0.2</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1">; sprial</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:hover</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:land</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('kNLx5X49Lig');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/kNLx5X49Lig?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/kNLx5X49Lig/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=kNLx5X49Lig" id="kNLx5X49Lig" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Looking at the Navigation Data</h2>

<p>You can also hook into the navigation feed. There are many drone states and properties to look at. There is a list of all the ones currently available on the <a href="https://github.com/gigasquid/clj-drone">github project site</a>. There are also many more, including targeting information, that have yet to be added. There is a logging function that will pair down the navigation properties that you are interested in. The navigation data map as an atom, so it can be de-referenced anywhere in your program. Here is a short video of what the navigation logging data looks like when it is turned on.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">clj-drone.example.nav-test</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">clj-drone.core</span> <span class="ss">:refer</span> <span class="ss">:all</span><span class="p">]</span>
</span><span class='line'>            <span class="p">[</span><span class="nv">clj-drone.navdata</span> <span class="ss">:refer</span> <span class="ss">:all</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="c1">;; logging is configured to go to the logs/drone.log file</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">set-log-data</span> <span class="p">[</span><span class="ss">:seq-num</span> <span class="ss">:flying</span> <span class="ss">:battery-percent</span> <span class="ss">:control-state</span> <span class="ss">:roll</span> <span class="ss">:pitch</span> <span class="ss">:yaw</span>
</span><span class='line'>                <span class="ss">:velocity-x</span> <span class="ss">:velocity-y</span> <span class="ss">:velocity-z</span><span class="p">])</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone-initialize</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone-init-navdata</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:take-off</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">drone</span> <span class="ss">:land</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nf">end-navstream</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>`</p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('peQTVvsayrA');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/peQTVvsayrA?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/peQTVvsayrA/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=peQTVvsayrA" id="peQTVvsayrA" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Auto-piloting with goals and beliefs</h2>

<p>Inspired by reading John McCarthy&rsquo;s paper on <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/ascribing/ascribing.html">Ascribing Mental Qualities to Machines</a>, the drone can also auto-pilot itself based on goals and beliefs about its streaming navigation data. You define belief-actions and then goals. Finally, you set a vector of the current goals for the drone to process. You can see an example here of the AR drone having three goals: Take off, Get to a cruising altitude, and then land. It does it solely by inspecting and acting on the streaming navigation data.
Code for the program is here: <a href="https://github.com/gigasquid/clj-drone/blob/master/examples/nav_goals.clj">https://github.com/gigasquid/clj-drone/blob/master/examples/nav_goals.clj</a></p>

<div class="ratio-4-3 embed-video-container" onclick="var myAnchor = document.getElementById('ujqeKFT8HdQ');var tmpDiv = document.createElement('div');tmpDiv.innerHTML = '&lt;iframe style=&quot;vertical-align:top;width:100%;height:100%;position:absolute;&quot; src=&quot;http://www.youtube.com/embed/ujqeKFT8HdQ?autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';myAnchor.parentNode.replaceChild(tmpDiv.firstChild, myAnchor);return false;" title="click here to play">
<a class="youtube-lazy-link" style="width:100%;height:100%;background:#000 url(http://i2.ytimg.com/vi/ujqeKFT8HdQ/0.jpg) center center no-repeat;background-size:contain;position:absolute" href="http://www.youtube.com/watch?v=ujqeKFT8HdQ" id="ujqeKFT8HdQ" onclick="return false;">
<div class="youtube-lazy-link-div"></div>
<div class="youtube-lazy-link-info"></div>
</a>
<div class="video-info" ></div>
</div>


<h2>Go Fly!</h2>

<p>I have had a lot of fun so far working on this project. I hope that you get a chance to play with it too. The project is still very young, so stay tuned for updates and, of course, pull requests are always welcome :)</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-01-01T19:30:32-05:00"  data-updated="true" itemprop="datePublished dateCreated">Tue  1 Jan 2013,  7:30 PM</time>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2013/01/01/7-mccarthy-papers-in-7ish-weeks-7-elephant-2000/" itemprop="url">7 McCarthy Papers in 7ish Weeks #7 - Elephant 2000</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Saving the best for last.  <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/elephant/elephant.html">Elephant 2000</a></p>

<p>To be continued&hellip;.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-12-26T16:58:43-05:00"  data-updated="true" itemprop="datePublished dateCreated">Wed 26 Dec 2012,  4:58 PM</time>
        
           | <a href="/blog/2012/12/26/hobby-languages-for-clojurists/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2012/12/26/hobby-languages-for-clojurists/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2012/12/26/hobby-languages-for-clojurists/" itemprop="url">Hobby Languages for Clojurists</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>I spend most of my work day in Ruby and CoffeeScript. However, my true love belongs to Clojure, which I consider my &ldquo;hobby&rdquo; language right now. I started to wonder, what are the &ldquo;hobby&rdquo; languages for people who spend most of their work day with Clojure. My informal twitter poll revealed selection as diverse and interesting as the Clojurists themselves.</p>

<p><strong>Developers Who Enjoy Clojure Also Enjoy: </strong>
<em>(In no particular order)</em></p>

<ul>
<li><p><a href="http://golang.org/">Go</a> (adorable mascot)</p></li>
<li><p><a href="http://ocaml.org/">OCaml</a></p></li>
<li><p><a href="http://factorcode.org/">Factor</a></p></li>
<li><p><a href="http://www.haskell.org/haskellwiki/Haskell">Haskell</a></p></li>
<li><p><a href="http://www.scala-lang.org/">Scala</a></p></li>
<li><p><a href="http://julialang.org/">Julia</a></p></li>
<li><p><a href="http://www.bayfronttechnologies.com/metaii.html">MetaII</a></p></li>
<li><p><a href="https://github.com/Fogus/caerbannog">caerbannog</a></p></li>
<li><p><a href="http://www.jsoftware.com/">J</a></p></li>
<li><p><a href="http://boo.codehaus.org/">Boo</a> (.Net)</p></li>
<li><p>JavaScript / Bash</p></li>
</ul>


<p>and of course <strong>MORE Clojure</strong></p>

<ul>
<li><p><a href="https://github.com/clojure/clojurescript">ClojureScript</a></p></li>
<li><p><a href="https://github.com/clojure/core.logic">core.logic</a></p></li>
<li><p><a href="http://overtone.github.com">Overtone</a></p></li>
<li><p><a href="https://github.com/quil/quil">Quil</a></p></li>
</ul>

</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-25T09:08:53-05:00"  data-updated="true" itemprop="datePublished dateCreated">Sun 25 Nov 2012,  9:08 AM</time>
        
           | <a href="/blog/2012/11/25/7-mccarthy-papers-in-7ish-weeks-5/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2012/11/25/7-mccarthy-papers-in-7ish-weeks-5/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2012/11/25/7-mccarthy-papers-in-7ish-weeks-5/" itemprop="url">7 McCarthy Papers in 7ish Weeks #5 & #6 - SDFW Tic-Tac-Toe</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p><img src="http://farm8.staticflickr.com/7388/9925780935_9744792c36_o.png"></p>

<p>This holiday edition blog post covers two McCarthy papers instead of just one.  We will be talking about <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/freewill.pdf">Free Will &ndash; Even for Robots</a> and the companion paper <a href="http://web.archive.org/web/20131014084908/http://www-formal.stanford.edu/jmc/freewill2.pdf">Simple Deterministic Free Will</a>.</p>

<h2>In which we deftly sidestep the philosophers</h2>

<p>We know that computers and programs are completely deterministic.  A philosophical question is whether we, as humans are ruled by determinism, (although complex it may be), or not.  If we take the decision that humans are deterministic, then we can argue that either there is no free will &ndash; or that free will is &ldquo;compatible&rdquo; with determinism.  Philosophers, of course, could discuss such questions interminably, trying to get a theory to fit for all people and all occasions.  Thankfully, McCarthy takes a very admirable and practical view on free will.  Let&rsquo;s try out something simple for a computer program and see how it works.  He explores a philosophy &#8221;Compatibilist&rsquo;s&#8221; view, which regards a person to have free will if his actions are decided by an internal process, even if this process itself is deterministic.  But by exploring this view with computer programs, he makes clear:</p>

<blockquote><p>&hellip; I don&rsquo;t need to take a position on determinism itself.</p></blockquote>

<h2>Simple Deterministic Free Will</h2>

<p>So what would Free Will look like for a machine. How do we go about defining it? McCarthy proposes the idea of Simple Deterministic Free Will. The main idea is that the mechanism of free will is broken up into two parts. The first part looks at the possible actions and the consequences of those actions, and the second part decides which of those actions are preferable and does them. He gives the example of a chess program:</p>

<blockquote><p>People and chess programs carry thinking about choice beyond the ﬁrst level. Thus “If I make this move, my opponent (or nature regarded as an opponent) will have the following choices, each of which will give me further choices.” Examining such trees of possibilities is an aspect of free will in the world, but the simplest form of free will in a deterministic world does not involve branching more than once.</p></blockquote>

<p>So perhaps we could find an example that is simpler than chess to work with &hellip;</p>

<blockquote><p>&hellip;it would be interesting to design the simplest possible system exhibiting deterministic free will. A program for tic-tac-toe is simpler than a chess program, but the usual program does consider choices.</p></blockquote>

<h2>Simple Deterministic Free Will Tic Tac Toe</h2>

<p>So to explore McCarthy&rsquo;s idea of Simple Deterministic Free Will, I decided to try to construct a game of Tic Tac Toe with SDFW principles. Coincidentally, my six year old daughter, just learned how to play Tic Tac Toe as well. I wanted to construct a program that would &ldquo;reason&rdquo; about the game as would a child. Even though the game of Tic Tac Toe is simple enough to have all the possibility trees of moves completely solved, this is not how a my daughter approaches the game. Each time it is her move, she only looks one move ahead to see if she can win three in a row, or if she needs to block her opponent from winning the next move.</p>

<h2>My Tic Tac Toe Program has Beliefs</h2>

<p>It has three beliefs to be precise. It believes that no one is going to win, or it is going to win, or its opponent is going to win.</p>

<pre><code>(def beliefs
  { :win "I am going to win."
    :lose "My opponent is going to win."
    :noone "No one is going to win."})
</code></pre>

<p>McCarthy thinks that <a href="http://gigasquidsoftware.com/blog/2012/09/20/7-john-mccarthy-papers-in-7-weeks-1/">ascribing programs beliefs can be useful</a>. One of the reasons is that it helps us as humans, reason and debug our programs. I definitely saw the value of this when I was trying to debug my tic tac toe game. After it failed to block my winning move, I could see what its false belief was &ndash; ah &ndash; it thought that &ldquo;No one is going to win&rdquo;. I wrote another failing unit test to fix its bad belief.</p>

<h2>My Tic Tac Toe Program Looks to See What Its Possible Actions and Preferences Are</h2>

<p>It looks at the board and computes all its possible next moves. Then it computes all the possible next moves of its opponent. It looks at the consequences of these moves by assigning a belief from one of its three beliefs. Next, it ranks the moves according to the preference of its beliefs.</p>

<pre><code>(def belief-action-preferences
  { (beliefs :win) 1
    (beliefs :lose) 2
    (beliefs :noone) 3})
</code></pre>

<p>It then chooses the move to take that has the highest rank. If it believes that no-one is going to win, I opted to have it choose a random move from the list of possible choices. But this randomness is completely arbitrary on my part and not necessary to SDFW at all.</p>

<h2>Why ClojureScript is Awesome</h2>

<p>I coded the core tic-tac-toe program in Clojure, but then I thought that having a web page UI would be nice for my daughter to play with. So, I just took the game logic and moved it to ClojureScript. Let me say that again slower&hellip; I used the same code on the server on the browser. Awesome. Using the <a href="https://github.com/emezeske/lein-cljsbuild/blob/0.2.10/doc/CROSSOVERS.md">lein-cljsbuild crossover support</a>, I was able to simply configure my UI ClojureScript code to access my regular clojure game engine. Very cool. I was also very pleased to work with the <a href="https://github.com/levand/domina">https://github.com/levand/domina</a> DOM manipulation library for ClojureScript.</p>

<h2>End Result</h2>

<p>It was a fun project that let me play with ClojureScript, explore McCarthy&rsquo;s free will for robots, have some very interesting conversations about free will with my co-wokers and code and coffee friends, and make a game for my daughter to play and enjoy. If you are interested in checking out the program for yourself &ndash; <a href="http://gigasquid.github.com/sdfw-tic-tac-toe/">http://gigasquid.github.com/sdfw-tic-tac-toe/</a>. The last belief is displayed at the bottom. I have only tried it on Chrome, so beware. Finally, if you find any false beliefs, feel free to submit a pull request to <a href="https://github.com/gigasquid/sdfw-tic-tac-toe">https://github.com/gigasquid/sdfw-tic-tac-toe</a>.</p>

<p>P.S. If you are wondering, I drew the awesome graphics all by myself.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-06T08:32:04-05:00"  data-updated="true" itemprop="datePublished dateCreated">Tue  6 Nov 2012,  8:32 AM</time>
        
           | <a href="/blog/2012/11/06/7-mccarthy-papers-in-7ish-weeks-4/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://gigasquid.github.io/blog/2012/11/06/7-mccarthy-papers-in-7ish-weeks-4/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/2012/11/06/7-mccarthy-papers-in-7ish-weeks-4/" itemprop="url">7 McCarthy Papers in 7ish Weeks - #4</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Reading <a href="http://www-formal.stanford.edu/jmc/ailogic/ailogic.html">Artificial Intelligence, Logic, and Formalizing Common Sense</a>, led me surprisingly to reflect on, not only logic and philosophy, but also the history and present state of AI.</p>

<p>Fist let&rsquo;s look at the kind of AI that McCarthy is describing in paper. He talks of a program that can use common sense knowledge about the world around it and have this knowledge structured well enough that it can be reasoned about mathematically. In fact, he describes four levels of logic:</p>

<ol>
<li><p> The computer program has its &ldquo;beliefs&rdquo; completely defined by its internal state.  If you are confused by the term &ldquo;beliefs&rdquo;, it refers to <a href="http://gigasquidsoftware.com/blog/2012/09/20/7-john-mccarthy-papers-in-7-weeks-1/">ascribing mental qualities to machines</a>.  In his famous example, a thermostat has three beliefs: the room is too hot, the room is too cold, and the room is just right.</p></li>
<li><p> The programs express their beliefs in sentences in machine memory.  However, they do not use ordinary logic.  They use other methods like rules and procedures.</p></li>
<li><p> In addition to expresses their beliefs in sentences, they also use first order logic and logical deduction to reach their conclusions.</p></li>
<li><p> The fourth level is still a goal today.  It is to have the program represent general facts about the world as logical sentences.  Furthermore, to have a database of these commonsense facts that programs can share.</p></li>
</ol>


<p>Let&rsquo;s step back now for a moment, to a excerpt from the very beginning of the paper:</p>

<blockquote><p>One path to human-level AI uses mathematical logic to formalize common-sense knowledge in such a way that common-sense problems can be solved by logical reasoning. This methodology requires understanding the common-sense world well enough to formalize facts about it and ways of achieving goals in it. Basing AI on understanding the common-sense world is different from basing it on understanding human psychology or neurophysiology.</p></blockquote>

<p>This approach to AI is just one approach. It is commonly referred to as a &ldquo;top down&rdquo; approach.  In the early years of AI it was the dominant way of thinking about things. Looking back at the history of AI, the <a href="http://en.wikipedia.org/wiki/History_of_artificial_intelligence#The_golden_years_1956.E2.88.921974">golden years</a> were full of optimism, (and funding), that this was the path to achieving fully intelligent machines.  Disenchantment with unfulfilled promises, led to the first <a href="http://en.wikipedia.org/wiki/AI_winter">AI winter</a>.  There was a rise of expert systems later on that limited their scope to small domains and avoided the common sense problem, but eventually ended in a second AI winter and ushered in our current world.  This basic approach is an opposite ground-up view of AI.  It uses neural networks and statistics from a physical inspiration.  Some of this inspiration is from human neurophysiology, some of it is from insect and animal world, but simplicity behavior of a &ldquo;body&rdquo; is emphasized.  With the advances in hardware and computing power today, the innovations and accomplishments have been breath taking.</p>

<p>A good example of the two approaches can be seen in my Roomba.  A top down approach, would require my Roomba to have a complete room model in its program.  It would have to understand what my couch was, where the doors where and have logically reasoning to direct it to which areas to clean and when to stop cleaning and recharge itself.  The creators of the Roomba were from the opposite camp of thinking.  They took the simpler behavior approach of having the Roomba just take a random walk in the room and turn around when it ran into an obstacle.  It took a bit longer to get the room clean in such a random fashion, but not having to deal with the overhead of a mental model was well worth the trade off.</p>

<p>Noam Chomsky recently argued that the<a href="http://www.theatlantic.com/technology/archive/2012/11/noam-chomsky-on-where-artificial-intelligence-went-wrong/261637/"> pendulum has swung too far in favor of this simplified behaviorist approach</a>. Even in the light of <a href="http://norvig.com/chomsky.html">Norvig&rsquo;s response</a>, I think Chomsky has a point.  We would do well to search for gems of true intelligent systems in the historical landscape of the AI Winter.  Some of the breakthroughs of current sheer computing power and new modeling techniques, might yield great fruits.</p>

<p>One of the comments by nagelonce, on the Chomsky article,  puts this very well:</p>

<blockquote><p>AI has a hole in the middle. There&rsquo;s top-down AI, which focuses on abstractions and reductionism. There&rsquo;s bottom-up AI, which focuses on reactive systems and the front end of visual processing. They have yet to meet in the middle. They are, however, much closer to doing so than they were twenty years ago.</p></blockquote>

<p>If you are interested in checking out a top-down open source AI project, take a look at <a href="http://www.opencyc.org/doc">OpenCyc</a>.  After a brief look at it the other night, it suffers from the lack of love and documentation.  But, I can also see the promise of McCarthy&rsquo;s common sense knowledge and logic system, covered in a thin layer of snow.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2020 - Carin Meier<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/bhrigu123/abacus">abacus theme</a></span>.
  </small>
</p>

</div>
</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'squidsblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr.js"></script>


  </body>
</html>
